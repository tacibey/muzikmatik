---
import TextSlider from "../components/TextSlider.astro";
import Separator from "../components/Separator.astro";

// Get the current pathname
const currentPath = Astro.url.pathname;
// Define a map of routes
const routes = {
  "/": "Home",
  "/uret/": "Üret",
  "/dinle/": "Dinle",
  "/sosyal/": "Sosyal",
  "/ulas/": "Ulaş",
};
// Determine the active route
const activeRoute = routes[currentPath] || null;
---

<header>
  <h1>
    <a href="/" class={activeRoute === "Home" ? "current" : ""}>
      <TextSlider content="müzikmatik" />
    </a>
  </h1>
  <span><TextSlider content="Yapay Zekâ Müzik Platformu" /></span>
  <ul>
    <li>
      <a
        href="/uret/"
        class={activeRoute === "Üret" ? "current" : ""}
        data-astro-prefetch><TextSlider content="Üret" /></a>
    </li>
    <li>
      <a
        href="/dinle/"
        class={activeRoute === "Dinle" ? "current" : ""}
        data-astro-prefetch><TextSlider content="Dinle" /></a>
    </li>
    <li>
      <a
        href="/sosyal/"
        class={activeRoute === "Sosyal" ? "current" : ""}
        data-astro-prefetch><TextSlider content="Sosyal" /></a>
    </li>
    <li>
      <a
        href="/ulas/"
        class={activeRoute === "Ulaş" ? "current" : ""}
        data-astro-prefetch><TextSlider content="Ulaş" /></a>
    </li>
  </ul>
</header>
<Separator />

<style>
  header {
    position: relative;
    display: grid;
    grid-template-columns: min-content auto;
    font-weight: 700;
    padding: 1rem 0;
    gap: 1rem;
  }
  header a.current {
    pointer-events: none;
  }
  h1 {
    font-size: 1rem;
    font-weight: inherit;
    margin: 0;
  }

  /* "müzikmatik" yazısı için gradient stilleri */
  h1 a .oh__inner { /* TextSlider içindeki asıl metni hedefliyoruz */
    background: linear-gradient(45deg, #00F2FE, #4FACFE, #00C9A7, #C8FC7E); /* Turkuaz, mavi, yeşil ve açık yeşil tonları */
    /* Alternatif bir gradient:
    background: linear-gradient(to right, #69EACB, #EACCF8, #6654F1); // Mint, lavanta, mor
    */
    /* Daha fütüristik bir gradient:
    background: linear-gradient(90deg, rgba(0,212,255,1) 0%, rgba(15,155,229,1) 35%, rgba(255,0,231,1) 100%); // Mavi, koyu mavi, pembe
    */
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-fill-color: transparent; /* Standart tarayıcılar için */
    /* Animasyonun düzgün çalışması için TextSlider'ın kendi stilini bozmamak adına display: inline-block önemli */
    display: inline-block; /* Bu zaten TextSlider'da var ama emin olmak için */
  }

  /* Hover durumunda farklı bir efekt isterseniz (opsiyonel) */
  h1 a:hover .oh__inner {
    /* Örneğin hover'da gradient'i biraz değiştirebilir veya parlaklık ekleyebilirsiniz */
    /* Veya basitçe opacity ile oynayabilirsiniz, ancak gradient ile bu çok iyi görünmeyebilir */
    opacity: 0.85; /* Deneyebilirsiniz */
  }
  /* GRADIENT STİLLERİ SONU */

  ul {
    display: flex;
    list-style: none;
    gap: 1rem;
    margin: 0;
    padding: 0;
    grid-column: auto / span 2;
  }
  @media screen and (min-width: 50em) {
    header {
      grid-template-columns: 20vw 1fr auto auto;
    }
  }
</style>
